<div class="post-item" (click)="goToPost(post.id)">
  <div class="post-header">
    <img [src]="post.author.photoUrl || '../../../../assets/default-avatar.png'" alt="User avatar" />
    <div>
      <span class="username" (click)="goToUserProfile(post.author.username)">
        {{ post.author.username }}
      </span>
      <span (click)="goToCommunity(post.community.name)">
        posted in <b>{{ post.community.name }}</b>
      </span>
      <span class="time">{{ post.createdAt | date: 'short' }}</span>
    </div>
  </div>

  <div class="post-content">
    <h3>{{ post.title }}</h3>
    <p>{{ post.content }}</p>
    <div class="tags">
      <span *ngFor="let tag of post.tags">{{ tag }}</span>
    </div>
  </div>

  <div class="actions">
    <button (click)="handleVote('upvote', !isUpvoted)">
      ↑ {{ post.upvotes }}
    </button>
    <button (click)="handleVote('downvote', !isDownvoted)">
      ↓ {{ post.downvotes }}
    </button>
    <button (click)="handleSavePost(!isSaved)">
      {{ post.saves }} | {{ isSaved ? 'Unsave' : 'Save' }}
    </button>
    <span>{{ post.comments.length }} comments</span>
  </div>
</div>
